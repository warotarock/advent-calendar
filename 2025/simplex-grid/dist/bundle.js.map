{
  "version": 3,
  "sources": ["../../common/webgl-helper.ts", "../main.ts"],
  "sourcesContent": ["\n/** \u7C21\u6613\u30B7\u30A7\u30FC\u30C0\u30AF\u30E9\u30B9 */\nexport class GLSLShader {\n  shaderProgram: WebGLProgram | null = null\n  vertexShaderSource: string = ''\n  fragmentShaderSource: string = ''\n  vertexShader: WebGLShader | null = null\n  fragmentShader: WebGLShader | null = null\n  iResolution_uniform: WebGLUniformLocation | null = null\n  iTime_uniform: WebGLUniformLocation | null = null\n  position_attribute: number = -1\n\n  // \u30B7\u30A7\u30FC\u30C0\u306E\u30B3\u30F3\u30D1\u30A4\u30EB\u3068\u30D7\u30ED\u30B0\u30E9\u30E0\u306E\u30EA\u30F3\u30AF\n  build(gl: WebGLRenderingContext) {\n    this.initializeShaderSources()\n    this.createShaders(gl)\n    this.createProgram(gl)\n    this.linkShaders(gl)\n    this.initializeShaderVariables(gl)\n  }\n\n  // \u30B7\u30A7\u30FC\u30C0\u30BD\u30FC\u30B9\u306E\u521D\u671F\u5316\n  protected initializeShaderSources() {\n    this.initializeVertexShaderSource()\n    this.initializeFragmentShaderSource()\n  }\n\n  // \u9802\u70B9\u30B7\u30A7\u30FC\u30C0\u30BD\u30FC\u30B9\u306E\u521D\u671F\u5316\uFF08\u7D99\u627F\u5148\u30AF\u30E9\u30B9\u3067\u5B9F\u88C5\uFF09\n  protected initializeVertexShaderSource() {\n    this.vertexShaderSource = /*cs*/`\nprecision mediump float;\n\nattribute vec2 aPosition;\n\nvoid main() {\n  gl_Position = vec4(aPosition, 0.0, 1.0);\n}\n`\n  }\n\n  // \u30D5\u30E9\u30B0\u30E1\u30F3\u30C8\u30B7\u30A7\u30FC\u30C0\u30BD\u30FC\u30B9\u306E\u521D\u671F\u5316\uFF08\u7D99\u627F\u5148\u30AF\u30E9\u30B9\u3067\u5B9F\u88C5\uFF09\n  protected initializeFragmentShaderSource() {\n  }\n\n  private createShaders(gl: WebGLRenderingContext) {\n    this.vertexShader = this.createShader(gl, gl.VERTEX_SHADER, this.vertexShaderSource)\n    this.fragmentShader = this.createShader(gl, gl.FRAGMENT_SHADER, this.fragmentShaderSource)\n  }\n\n  private createShader(gl: WebGLRenderingContext, type: number, source: string): WebGLShader {\n    const shader = gl.createShader(type)\n    if (!shader) {\n      throw new Error('Failed to create shader.')\n    }\n\n    gl.shaderSource(shader, source)\n    gl.compileShader(shader)\n    const compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS)\n    if (!compiled) {\n      const error = gl.getShaderInfoLog(shader)\n      gl.deleteShader(shader)\n      throw new Error('Failed to compile shader: ' + error)\n    }\n\n    return shader\n  }\n\n  private createProgram(gl: WebGLRenderingContext) {\n    this.shaderProgram = gl.createProgram()\n    if (!this.shaderProgram) {\n      throw new Error('Failed to create shader program.')\n    }\n  }\n\n  private linkShaders(gl: WebGLRenderingContext) {\n    const shaderProgram = this.shaderProgram\n    const vertexShader = this.vertexShader\n    const fragmentShader = this.fragmentShader\n    if (!shaderProgram || !vertexShader || !fragmentShader) {\n      throw new Error('Shaders or program have not been created.')\n    }\n    gl.attachShader(shaderProgram, vertexShader)\n    gl.attachShader(shaderProgram, fragmentShader)\n    gl.linkProgram(shaderProgram)\n    const linked = gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)\n    if (!linked) {\n      const error = gl.getProgramInfoLog(shaderProgram)\n      gl.deleteProgram(shaderProgram)\n      throw new Error('Failed to link program: ' + error)\n    }\n  }\n\n  private initializeShaderVariables(gl: WebGLRenderingContext) {\n    const shaderProgram = this.shaderProgram\n    if (!shaderProgram) {\n      throw new Error('Shader program has not been created.')\n    }\n    this.iResolution_uniform = gl.getUniformLocation(shaderProgram, 'iResolution')\n    if (!this.iResolution_uniform) {\n      throw new Error('Failed to get the storage location of iResolution.')\n    }\n    this.iTime_uniform = gl.getUniformLocation(shaderProgram, 'iTime')\n    if (!this.iTime_uniform) {\n      throw new Error('Failed to get the storage location of iTime.')\n    }\n    this.position_attribute = gl.getAttribLocation(shaderProgram, 'aPosition')\n    if (this.position_attribute === -1) {\n      throw new Error('Failed to get the storage location of aPosition.')\n    }\n  }\n\n  enableAttributes(gl: WebGLRenderingContext) {\n    gl.enableVertexAttribArray(this.position_attribute)\n    gl.vertexAttribPointer(this.position_attribute, 2, gl.FLOAT, false, 0, 0)\n  }\n\n  disableAttributes(gl: WebGLRenderingContext) {\n    gl.disableVertexAttribArray(this.position_attribute)\n  }\n\n  setUniforms(gl: WebGLRenderingContext, iResolution: [number, number], iTime: number) {\n    if (!this.iResolution_uniform || !this.iTime_uniform) {\n      throw new Error('Uniform locations have not been initialized.')\n    }\n    gl.uniform2fv(this.iResolution_uniform, iResolution)\n    gl.uniform1f(this.iTime_uniform, iTime)\n  }\n}\n\n/** \u7C21\u6613\u30D0\u30C3\u30D5\u30A1\u30AF\u30E9\u30B9 */\nexport class ModelBuffer {\n  vertexBuffer: WebGLBuffer | null = null\n  vertexCount: number = 0\n\n  allocate(gl: WebGLRenderingContext, verticesData: Float32Array) {\n    const vertexBuffer = gl.createBuffer()\n    if (!vertexBuffer) {\n      throw new Error('Failed to create vertex buffer.')\n    }\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer)\n    gl.bufferData(gl.ARRAY_BUFFER, verticesData, gl.STATIC_DRAW)\n\n    this.vertexBuffer = vertexBuffer\n    this.vertexCount = verticesData.length / 3\n  }\n\n  bind(gl: WebGLRenderingContext) {\n    if (!this.vertexBuffer) {\n      throw new Error('Vertex buffer has not been created.')\n    }\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer)\n  }\n}\n", "import { GLSLShader, ModelBuffer } from '../common/webgl-helper'\n\n// \u30B7\u30A7\u30FC\u30C0 /////////////////////////////////////////////\n\n// \u306A\u3093\u304B\u3044\u3044\u611F\u3058\u306A\u666E\u901A\u306E\u30B0\u30E9\u30C7\u30FC\u30B7\u30E7\u30F3\u306E\u30B7\u30A7\u30FC\u30C0\nclass ColorGradationShader extends GLSLShader {\n  protected initializeFragmentShaderSource() {\n    this.fragmentShaderSource = /*cs*/`\nprecision mediump float;\n\nuniform float iTime;\nuniform vec2 iResolution;\n\nvoid main() {\n  float maxRes = max(iResolution.x, iResolution.y);\n  vec2 p = gl_FragCoord.xy / maxRes;\n\n  gl_FragColor.r = p.x * abs(cos(iTime));\n  gl_FragColor.g = p.y * abs(cos(iTime * 0.7));\n  gl_FragColor.b = (1.0 - (p.x + p.y) * 0.5) * abs(sin(iTime * 1.1));\n  gl_FragColor.a = 1.0;\n}\n`\n  }\n}\n\n// \u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u30B0\u30EA\u30C3\u30C9\u306E\u30B7\u30A7\u30FC\u30C0\nclass SimplexGridShader extends GLSLShader {\n  protected simplexGridLogic = /*cs*/`\n\n// \u56DE\u8EE2\u89D2\u5EA615\u5EA6\u306E\u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u5EA7\u6A19\u3078\u306E\u5EA7\u6A19\u5909\u63DB\u884C\u5217\u3068\u305D\u306E\u9006\u884C\u5217\nconst mat2 SIMPLEX_MAT     = mat2( 0.96592,  0.25882,\n                                   0.25882,  0.96592);\nconst mat2 INV_SIMPLEX_MAT = mat2( 1.11537, -0.29887,\n                                  -0.29887,  1.11537);\n\n// \u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u5EA7\u6A19\u3078\u306E\u5909\u63DB\nvoid uvToSimplex(\n  vec2 uv,\n  out vec2 floorPos,    // \u6574\u6570\u5EA7\u6A19\n  out vec2 fractPos,    // \u5C0F\u6570\u5EA7\u6A19\n  out float simplexSide // \u65B9\u5411 1:\u4E0B\u5074\u306E\u4E09\u89D2\u5F62\u3001-1:\u4E0A\u5074\u306E\u4E09\u89D2\u5F62\n) {\n    vec2 simPos = uv * INV_SIMPLEX_MAT;\n\n    floorPos = floor(simPos);\n    fractPos = fract(simPos);\n    simplexSide = 1.0;\n\n    // \u4E0A\u5074/\u4E0B\u5074\u306E\u4E09\u89D2\u5F62\u306E\u5224\u5B9A\n    if (fractPos.y > 1.0 - fractPos.x) {\n      // \u4E0A\u5074\u306E\u4E09\u89D2\u5F62\u306E\u5834\u5408\u3001\u5EA7\u6A19\u3092\u53CD\u8EE2\uFF08\u4E09\u89D2\u5F62\u306E\u53F3\u4E0A\u304B\u3089\u5DE6\u4E0B\u306B\u5411\u304B\u3046\u5EA7\u6A19\u3068\u306A\u308B\uFF09\n      floorPos = floorPos + 1.0;\n      fractPos = 1.0 - fractPos;\n      simplexSide = -1.0;\n    }\n}\n\n// UV\u5EA7\u6A19\u3078\u306E\u5909\u63DB\nvec2 simplexToUV(vec2 simplexPos) {\n    return simplexPos * SIMPLEX_MAT;\n}\n\n// \u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u30B0\u30EA\u30C3\u30C9\u306E\u63CF\u753B\nvec3 simplexGrid(vec2 uv) {\n  vec2 floorPos, fractPos;\n  float simplexSide;\n  uvToSimplex(uv, floorPos, fractPos, simplexSide);\n  return vec3(fractPos.x * 0.5, fractPos.y * 0.5, 0.0);\n}\n`\n\n  protected initializeFragmentShaderSource() {\n    this.fragmentShaderSource = /*cs*/`\nprecision mediump float;\n\nuniform float iTime;\nuniform vec2 iResolution;\n\n${this.simplexGridLogic}\n\nvoid main() {\n  float maxRes = max(iResolution.x, iResolution.y);\n  float zoom = 5.0;\n  vec2 p = gl_FragCoord.xy / maxRes;\n  vec2 uv = p * (4.0 + abs(0.5 + sin(iTime) * 0.5) * zoom);\n\n  // \u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u30B0\u30EA\u30C3\u30C9\u306E\u63CF\u753B\n  vec3 simplexGrid = simplexGrid(uv);\n\n  gl_FragColor.r = simplexGrid.r;\n  gl_FragColor.g = simplexGrid.g;\n  gl_FragColor.b = 0.0;\n  gl_FragColor.a = 1.0;\n}\n`\n  }\n}\n\n// \u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u30CE\u30A4\u30BA\u306E\u30B7\u30A7\u30FC\u30C0\nclass SimplexNoiseShader extends SimplexGridShader {\n\n  protected initializeFragmentShaderSource() {\n    this.fragmentShaderSource = /*cs*/`\nprecision mediump float;\n\nuniform float iTime;\nuniform vec2 iResolution;\n\n${this.simplexGridLogic}\n\n// \uFF12\u6B21\u5143\u30D9\u30AF\u30C8\u30EB\u306E\u30E9\u30F3\u30C0\u30E0\u306A\u52FE\u914D\u30D9\u30AF\u30C8\u30EB\n// \u53C2\u8003:https://www.shadertoy.com/view/tXsSRS\nconst float PI = 3.1415626535;\nfloat random(vec2 p)\n{\n\treturn fract(sin(dot(p, vec2(269.5, 183.3))) * 43758.5453123);\n}\nvec2 randomGradient(vec2 p)\n{\n  float angle = random(p) * 2.0 * PI;\n  float radius = sqrt(random(p + vec2(100.0)));\n  return vec2(cos(angle), sin(angle)) * radius;\n}\n\n// \u96A3\u63A5\uFF13\u30BB\u30EB\u306E\u30AA\u30D5\u30BB\u30C3\u30C8\uFF08\u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u5EA7\u6A19\uFF09\nconst mat3 vertesOffsets = mat3(\n  0.0, 0.0, 0.0,\n  1.0, 0.0, 0.0,\n  0.0, 1.0, 0.0\n);\n\n// \u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u30CE\u30A4\u30BA\u306E\u63CF\u753B\nfloat simplexNoise(vec2 uv, float randomScale) {\n  float sum = 0.0;\n\n  // \u4E2D\u5FC3\u30BB\u30EB\n  vec2 floorPos, fractPos;\n  float simplexSide;\n  uvToSimplex(uv, floorPos, fractPos, simplexSide);\n\n  // \u4E2D\u5FC3\u30BB\u30EB\u306E\u4E09\u3064\u306E\u9802\u70B9\u3054\u3068\u306B\u51E6\u7406\n  for (int i = 0; i < 3; i++) {\n    // \u9802\u70B9\u306E\u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u5EA7\u6A19\n    vec2 vertexSimplex = floorPos + vertesOffsets[i].xy * simplexSide;\n    // \u9802\u70B9\u306EUV\u5EA7\u6A19\n    vec2 vertexUV = simplexToUV(vertexSimplex);\n    // UV\u5EA7\u6A19\u306E\u30AA\u30D5\u30BB\u30C3\u30C8\n    vec2 offsetUV = uv - vertexUV;\n\n    // \u8DDD\u96E2\u306B\u3088\u308B\u30AC\u30A6\u30B9\u95A2\u6570\u7684\u306A\u91CD\u307F\u4ED8\u3051\n    float weight = max(0.0, 1.15 - dot(offsetUV, offsetUV)); // \u30B3\u30F3\u30C8\u30E9\u30B9\u30C8\u3092\u4E0A\u3052\u308B\u305F\u30811.15\u306B\u8A2D\u5B9A\u30021.2\u3042\u305F\u308A\u3092\u8D85\u3048\u308B\u3068\u8272\u98DB\u3073\u3057\u307E\u3059\u3002\u6700\u9069\u5024\u306F\u4E0D\u660E\u2026\n    weight = weight * weight;\n    weight = weight * weight;\n\n    // \u30E9\u30F3\u30C0\u30E0\u306A\u52FE\u914D\u30D9\u30AF\u30C8\u30EB\u3068\u306E\u5185\u7A4D\u3092\u91CD\u307F\u4ED8\u304D\u3067\u52A0\u7B97\n    vec2 gradient = randomGradient(vertexSimplex);\n    sum += (weight * dot(offsetUV, gradient));\n\n    // \u30A6\u30A7\u30A4\u30C8\u306E\u53EF\u8996\u5316\uFF08\u30C7\u30D0\u30C3\u30B0\u7528\uFF09\n    // sum += (weight * random(vertexSimplex));\n  }\n\n  return 0.5 + sum;\n}\n\nvoid main() {\n  float maxRes = max(iResolution.x, iResolution.y);\n  float zoom = 30.0;\n  vec2 p = gl_FragCoord.xy / maxRes;\n  vec2 uv = p * (4.0 + abs(0.5 + sin(iTime) * 0.5) * zoom);\n\n  // \u30CE\u30A4\u30BA\u306E\u63CF\u753B\n  float randomScale = 0.2;\n  float val = simplexNoise(uv, randomScale);\n\n  // \u30B0\u30EA\u30C3\u30C9\u306E\u63CF\u753B\n  vec3 simplexGrid = simplexGrid(uv) * 0.0;\n\n  gl_FragColor.r = val + simplexGrid.r;\n  gl_FragColor.g = val + simplexGrid.g;\n  gl_FragColor.b = val;\n  gl_FragColor.a = 1.0;\n}\n`\n  }\n}\n\n// \u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u30B0\u30EA\u30C3\u30C9\u4E0A\u306B\u30D1\u30BF\u30FC\u30F3\u3092\u63CF\u753B\u3059\u308B\u30B7\u30A7\u30FC\u30C0\nclass XmasPatternShader extends SimplexGridShader {\n\n  protected initializeFragmentShaderSource() {\n    this.fragmentShaderSource = /*cs*/`\nprecision mediump float;\n\nuniform float iTime;\nuniform vec2 iResolution;\n\n${this.simplexGridLogic}\n\n// \u7C21\u6613\u306A\u4E71\u6570\nfloat random21(vec2 p) {\n\treturn fract(sin(dot(p, vec2(269.5, 183.3))) * 43758.5453123);\n}\n\nvec2 random22(vec2 p) {\n  float k = 6.283185307 * random21(p);\n  return vec2(cos(k), sin(k));\n}\n\n// \u30BB\u30EB\u4E2D\u5FC3\u306E\u30AA\u30D5\u30BB\u30C3\u30C8\uFF08\u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u5EA7\u6A19\uFF09\nconst vec2 SIMPLEX_CELL_CENTER = vec2(0.33333, 0.33333);\n\n// \u4E2D\u5FC3\uFF0B\u96A3\u63A5\uFF13\u30BB\u30EB\u306E\u30AA\u30D5\u30BB\u30C3\u30C8\uFF08\u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u5EA7\u6A19\uFF09\nconst mat4 CELL_OFFSETS = mat4(\n   0.00000,  0.00000, 0.0, 0.0,\n  -0.66666,  0.33333, 0.0, 0.0,\n   0.33333,  0.33333, 0.0, 0.0,\n   0.33333, -0.66666, 0.0, 0.0\n);\n\n// \u5149\u306E\u70B9\u306E\u63CF\u753B\nfloat lightPoint(vec2 uv, vec2 simCenter, float randomScale, float pointScale) {\n  vec2 floorPos = floor(simCenter);\n  vec2 uvCenter = simplexToUV(simCenter)                       // \u30BB\u30EB\u4E2D\u5FC3\u306EUV\u5EA7\u6A19\n               + (random22(floorPos) - 0.5) * randomScale;     // \u30E9\u30F3\u30C0\u30E0\u306B\u30AA\u30D5\u30BB\u30C3\u30C8\n  float scale = pointScale * (1.0 + random21(floorPos) * 1.2); // \u30E9\u30F3\u30C0\u30E0\u306A\u5927\u304D\u3055\n  float dist = length(uvCenter - uv);                          // \u4E2D\u5FC3\u304B\u3089\u306E\u8DDD\u96E2\n  float val = smoothstep(0.0, 1.0, clamp(1.0 - dist * scale, 0.0, 1.0)); // \u8DDD\u96E2\u306B\u5FDC\u3058\u305F\u30D5\u30A7\u30FC\u30C9\u3067\u5149\u3092\u8868\u73FE\n  return val;\n}\n\n// \u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u30B0\u30EA\u30C3\u30C9\u306B\u5149\u306E\u70B9\u3092\u63CF\u753B\nfloat cellPattern(vec2 uv, float randomScale, float pointScale) {\n  float result = 0.0;\n\n  // \u4E2D\u5FC3\u30BB\u30EB\n  vec2 floorPos1, fractPos1;\n  float simplexSide1;\n  uvToSimplex(uv, floorPos1, fractPos1, simplexSide1); // \u30BB\u30EB\u539F\u70B9\u306E\u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u5EA7\u6A19\n\n  // \u4E2D\u5FC3\u30BB\u30EB\u3068\u96A3\u63A5\u30BB\u30EB\u306E\u5149\u306E\u70B9\u3092\u63CF\u753B\n  for (int i = 0; i < 4; i++) {\n    // \u30BB\u30EB\u4E2D\u5FC3\u306E\u30B7\u30F3\u30D7\u30EC\u30C3\u30AF\u30B9\u5EA7\u6A19\n    vec2 simCenter2 = floorPos1\n      + SIMPLEX_CELL_CENTER * simplexSide1\n      + CELL_OFFSETS[i].xy * simplexSide1;\n    result += lightPoint(uv, simCenter2, randomScale, pointScale);\n  }\n\n  return result;\n}\n\n// \u56DE\u8EE2\u89D2\u5EA650\u5EA6\u306E\u5EA7\u6A19\u5909\u63DB\u884C\u5217\nconst mat2 rotMat50  = mat2( 0.6427, 0.7660, -0.7660, 0.6427);\n\nvoid main() {\n  float maxRes = max(iResolution.x, iResolution.y);\n  vec2 p = gl_FragCoord.xy / maxRes;\n\n  // \u30A2\u30CB\u30E1\u30FC\u30B7\u30E7\u30F3\n  float zoom = 5.0;\n  vec2 uv = p * (4.0 + abs(0.5 + sin(iTime) * 0.5) * zoom);\n  // vec2 uv = p * (4.0 + abs(0.5 + sin(iTime) * 0.0) * zoom);\n\n  // \u5927\u5C0F\u30D1\u30BF\u30FC\u30F3\u3092\u52A0\u7B97\u3057\u3066\u63CF\u753B\n  float pointScale = 1.0 / 0.4;\n  float val = cellPattern(uv, 0.2, pointScale) // \u5C0F\u3055\u3044\u70B9\n    + cellPattern((uv + iTime) * rotMat50 * 0.5, 0.2, pointScale) * 0.7; // \u5927\u304D\u3044\u70B9\n\n  // \u30B0\u30EA\u30C3\u30C9\u306E\u63CF\u753B\n  vec3 simplexGrid = simplexGrid(uv);\n\n  gl_FragColor.r = val + simplexGrid.r;\n  gl_FragColor.g = val + simplexGrid.g;\n  gl_FragColor.b = val;\n  gl_FragColor.a = 1.0;\n}\n`\n  }\n}\n\n// \u30E1\u30A4\u30F3\u51E6\u7406 /////////////////////////////////////////////\n\nfunction main() {\n\n  // WebGL\u521D\u671F\u5316\n  const canvas = document.getElementById('mainCanvas') as HTMLCanvasElement\n  const gl = canvas.getContext('webgl') as WebGLRenderingContext\n  gl.viewport(0, 0, canvas.width, canvas.height)\n\n  // \u30B7\u30A7\u30FC\u30C0\u521D\u671F\u5316\n  const colorGradationShader = new ColorGradationShader()\n  const simplexGridShader = new SimplexGridShader()\n  const simplexNoiseShader = new SimplexNoiseShader()\n  const xmasPatternShader = new XmasPatternShader()\n  for (const shader of [colorGradationShader, simplexGridShader, simplexNoiseShader, xmasPatternShader]) {\n    shader.build(gl)\n  }\n\n  // \u30E2\u30C7\u30EB\u306E\u30D0\u30C3\u30D5\u30A1\u521D\u671F\u5316\n  const verticesData = new Float32Array([\n    -1.0,  1.0,\n    -1.0, -1.0,\n     1.0,  1.0,\n     1.0, -1.0,\n  ])\n  const modelBuffer = new ModelBuffer()\n  modelBuffer.allocate(gl, verticesData)\n\n  // \u30B7\u30A7\u30FC\u30C0\u9078\u629E\n  let currentShader: GLSLShader = colorGradationShader;\n  const patternRadioButton = document.getElementById('shader_pattern') as HTMLInputElement\n  const gridRadioButton = document.getElementById('shader_grid') as HTMLInputElement\n  const noiseRadioButton = document.getElementById('shader_noise') as HTMLInputElement\n  const colorRadioButton = document.getElementById('shader_color') as HTMLInputElement\n  const handleShaderChange = () => {\n    if (patternRadioButton.checked) {\n      currentShader = xmasPatternShader;\n    }\n    else if (gridRadioButton.checked) {\n      currentShader = simplexGridShader;\n    }\n    else if (noiseRadioButton.checked) {\n      currentShader = simplexNoiseShader;\n    }\n    else {\n      currentShader = colorGradationShader;\n    }\n    draw();\n  }\n  [patternRadioButton, gridRadioButton, noiseRadioButton, colorRadioButton].forEach(rb => {\n    rb.addEventListener('change', handleShaderChange);\n  });\n\n  // \u518D\u751F\u30FB\u505C\u6B62\u30DC\u30BF\u30F3\n  const pauseButton = document.getElementById('btn_pause') as HTMLButtonElement\n  let isPaused = false\n  function togglePause() {\n    isPaused = !isPaused\n    pauseButton.textContent = isPaused ? '\u518D\u958B' : '\u505C\u6B62'\n    if (!isPaused) {\n      update();\n    }\n  }\n  pauseButton.addEventListener('click', () => {\n    togglePause();\n  });\n  document.addEventListener('keydown', (ev) => {\n    if (ev.key === ' ') {\n      togglePause();\n      ev.preventDefault();\n    }\n  });\n\n  // \u30EC\u30F3\u30C0\u30EA\u30F3\u30B0\u30EB\u30FC\u30D7\n  let time = 0.0\n\n  function draw() {\n    gl.useProgram(currentShader.shaderProgram)\n    currentShader.setUniforms(gl, [canvas.width, canvas.height], time)\n    currentShader.enableAttributes(gl)\n\n    modelBuffer.bind(gl)\n\n    gl.clearColor(0, 0, 0, 1)\n    gl.clear(gl.COLOR_BUFFER_BIT)\n\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    gl.flush();\n  }\n\n  function update() {\n    draw();\n\n    if (!isPaused) {\n      time += 0.004\n      requestAnimationFrame(update)\n    }\n  }\n\n  handleShaderChange()\n  update()\n}\n\ndocument.addEventListener('DOMContentLoaded', main)\n"],
  "mappings": "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",
  "names": []
}
